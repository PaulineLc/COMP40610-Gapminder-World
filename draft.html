<html>

<head>
    <meta charset="utf-8">
    <title>Gapminder World</title>
    <script type="text/javascript" src="d3/d3.v3.js">
    </script>
    <link rel="stylesheet" type="text/css" href="stylesheet.css">
    <style>
        rect {
            fill-opacity: .1;
            stroke: #000;
            shape-rendering: crispEdges;
        }
        
        rect:hover {
            stroke: green;
        }
    </style>
</head>

<body>
    <h1>Gapminder World</h1>

    <script type="text/javascript">
        var yearScale = d3.scale.linear()
            .domain([0, 208])
            .range([1900, 2015]);

        var yearSlider = d3.select("body")
            .append("input")
            .attr("type", "range")
            .attr("name", "points")
            .attr("min", 0)
            .attr("max", 208)
            .attr("step", 1)
            .attr("value", 0)
            .attr("id", "slider-time")
            .style("width", "900px")
            .on("mousemove", testText);

        //        d3.select("#slider-time")
        //            .on("mousemove", updateText())
        //
        //        function update(v, duration) {
        //            d3.select("#slider-time").property("value", dragit.time.current);
        //        }

        var svg = d3.select("body")
            .append("svg")
            .attr("width", 900)
            .attr("height", 400)

        function testText() {
            d3.select("#textyear").remove();

            svg.append("text")
                .attr("x", 25)
                .attr("y", 25)
                .attr("id", "textyear")
                .text(yearScale(d3.select("#slider-time").property("value")))
        }


        //        //        //Width and height
        //        //        var w = 500;
        //        //        var h = 300;
        //        //        var padding = 30;
        //
        //        //        var dataset = [];
        //        //        var numDataPoints = 50;
        //        //        var xRange = Math.random() * 1000;
        //        //        var yRange = Math.random() * 1000;
        //        //        for (var i = 0; i < numDataPoints; i++) {
        //        //            var newNumber1 = Math.round(Math.random() * xRange);
        //        //            var newNumber2 = Math.round(Math.random() * yRange);
        //        //            dataset.push([newNumber1, newNumber2]);
        //        //        }
        //        //
        //        //        var xScale = d3.scale.linear()
        //        //            .domain([0, d3.max(dataset, function (d) {
        //        //                return d[0];
        //        //            })])
        //        //            .range([padding, w - padding * 2]);
        //        //
        //        //        var yScale = d3.scale.linear()
        //        //            .domain([0, d3.max(dataset, function (d) {
        //        //                return d[1];
        //        //            })])
        //        //            .range([h - padding, padding]);
        //        //
        //        //        var rScale = d3.scale.linear()
        //        //            .domain([0, d3.max(dataset, function (d) {
        //        //                return d[1];
        //        //            })])
        //        //            .range([2, 5]);
        //        //
        //        //        var xAxis = d3.svg.axis()
        //        //            .scale(xScale)
        //        //            .orient("bottom")
        //        //            .ticks(5); //Set rough # of ticks
        //        //
        //        //        //Define Y axis
        //        //        var yAxis = d3.svg.axis()
        //        //            .scale(yScale)
        //        //            .orient("left")
        //        //            .ticks(5);
        //        //
        //        //
        //        //        //Create SVG element
        //        //        var svg = d3.select("body")
        //        //            .append("svg")
        //        //            .attr("width", w)
        //        //            .attr("height", h);
        //        //
        //        //
        //        //        svg.selectAll("circle")
        //        //            .data(dataset)
        //        //            .enter()
        //        //            .append("circle")
        //        //            .attr("cx", function (d) {
        //        //                return xScale(d[0]);
        //        //            })
        //        //            .attr("cy", function (d) {
        //        //                return yScale(d[1]);
        //        //            })
        //        //            .attr("r", function (d) {
        //        //                return rScale(d[1]);
        //        //            });
        //        //
        //        //        svg.selectAll("text")
        //        //            .data(dataset)
        //        //            .enter()
        //        //            .append("text")
        //        //            .text(function (d) {
        //        //                return d[0] + "," + d[1];
        //        //            })
        //        //            .attr("x", function (d) {
        //        //                return xScale(d[0]);
        //        //            })
        //        //            .attr("y", function (d) {
        //        //                return yScale(d[1]);
        //        //            })
        //        //            .attr("font-family", "sans-serif")
        //        //            .attr("font-size", "11px")
        //        //            .attr("fill", "red");
        //        //
        //        //
        //        //        svg.append("g")
        //        //            .attr("class", "axis")
        //        //            .attr("transform", "translate(0," + (h - padding) + ")")
        //        //            .call(xAxis)
        //        //            .call(xAxis);
        //        //
        //        //
        //        //        //Create Y axis
        //        //        svg.append("g")
        //        //            .attr("class", "axis")
        //        //            .attr("transform", "translate(" + padding + ",0)")
        //        //            .call(yAxis);
        //
        //        var width = 960,
        //            height = 500;
        //
        //        var svg = d3.select("body").append("svg")
        //            .attr("width", width)
        //            .attr("height", height)
        //            .append("g")
        //            .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")
        //            .call(nest, 6, 30)
        //            .on("mouseover", flash("mouseover", "0"));
        //
        //        function flash(name, dy) {
        //            return function () {
        //                console.log(this);
        //                d3.select(this).append("text")
        //                    .attr("class", name)
        //                    .attr("transform", "translate(" + d3.mouse(this) + ")")
        //                    .attr("dy", dy)
        //                    .text(name)
        //                    .transition()
        //                    .duration(1500)
        //                    .style("opacity", 0)
        //                    .remove();
        //            };
        //        }
        //
        //        function nest(svg, levels, step) {
        //            var g = svg.append("g");
        //
        //            g.append("rect")
        //                .attr("x", -(levels + 1) * step)
        //                .attr("y", -(levels + 1) * step)
        //                .attr("width", (levels + 1) * step * 2)
        //                .attr("height", (levels + 1) * step * 2);
        //
        //            if (levels > 0) g.call(nest, levels - 1, step);
        //        }
    </script>

</body>

</html>